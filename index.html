<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors!</title>
</head>
<body>
    <button onclick="game(5)">Play Game</button>
    <script>
        function computerPlay() {
            let options = ["Rock", "Paper", "Scissors"];
            return options[Math.floor(Math.random() * 3)];
        }

        function userPlay (uScore, cScore) {
            let options = ["Rock", "Paper", "Scissors"];
            return options[prompt("User Score: " + uScore + " - Computer Score: " + cScore + "\nEnter your choice: \n 1. Rock - 2. Paper - 3. Scissors")-1];
        }

        function outcome(num, uChoice, compChoice) {
            switch (num) {
                case 1:
                    console.log("Win! " + uChoice + " beats " + compChoice + "!");
                    break;
                case 2:
                    console.log("Lose! " + compChoice + " beats " + uChoice + "!");
                    break;
                case 3:
                    console.log("Draw!");
                    break;
            }
        }

        function game( rounds ) {
            console.log("Rock Paper Scissors! Best of " + rounds)
            let userScore = 0;
            let computerScore = 0;

            for( let i = 1; i <= rounds; i++) {
                if (i != 1) {
                    console.log("User: " + userScore + " - Computer: " + computerScore);
                }
                let computer = computerPlay();
                let user = userPlay(userScore, computerScore);
                console.log("You played: " + user + " - Computer played: " + computer);
                    switch (user) {
                        case "Rock":
                            switch (computer) {
                                case "Rock":
                                    outcome(3, user, computer);
                                    i--;
                                    break;
                                case "Paper":
                                    outcome(2, user, computer);
                                    computerScore++;
                                    break;
                                case "Scissors":
                                    outcome(1, user, computer);
                                    userScore++;
                                    break;
                            }
                            break;
                        case "Paper":
                            switch (computer) {
                                case "Rock":
                                    outcome(1, user, computer);
                                    userScore++;
                                    break;
                                case "Paper":
                                    outcome(3, user, computer);
                                    i--;
                                    break;
                                case "Scissors":
                                    outcome(2, user, computer);
                                    computerScore++;
                                    break;
                            }
                            break;
                        case "Scissors":
                                switch (computer) {
                                case "Rock":
                                    outcome(2, user, computer);
                                    computerScore++;
                                    break;
                                case "Paper":
                                    outcome(1, user, computer);
                                    userScore++;
                                    break;
                                case "Scissors":
                                    outcome(3, user, computer);
                                    i--;
                                    break;
                            }
                            break;
                    } // end of switches
                if (userScore > (rounds/2)) {
                    alert("You Win!\nFinal Score: User: " + userScore + " - Computer: " + computerScore);
                    return;
                } else if (computerScore > (rounds/2)) {
                    alert("You Lose!\nFinal Score: User: " + userScore + " - Computer: " + computerScore);
                    return;
                }
            } // end of for loop
        }

        console.log(game(5));

    </script>
</body>
</html>